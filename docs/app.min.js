!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function updateReadyTree(){var width=canvas.width,height=canvas.height,scaleX=_controller2["default"].scaleX,scaleY=_controller2["default"].scaleY,drawLeaves=_controller2["default"].drawLeaves,leavesColor=_controller2["default"].leavesColor,leavesWidth=_controller2["default"].leavesWidth,leavesHeight=_controller2["default"].leavesHeight,spread=_controller2["default"].spread,branchWidth=_controller2["default"].branchWidth,maxBranchLength=_controller2["default"].maxBranchLength,maxBranchGenerations=_controller2["default"].maxBranchGenerations,x=Math.random()*(width-200)+200,y=Math.random()*(height-200)+200,z=0;readyTree=new _Shape.NatureTree("tree",{x:x,y:y,z:z,scaleX:scaleX,scaleY:scaleY},{drawLeaves:1==drawLeaves,leavesWidth:leavesWidth,leavesHeight:leavesHeight,leavesColor:leavesColor},{spread:spread,branchWidth:branchWidth,maxBranchLength:maxBranchLength,maxBranchGenerations:maxBranchGenerations})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateReadyTree=updateReadyTree,__webpack_require__(8);var _enhancedContext=__webpack_require__(3),_Shape=__webpack_require__(2),_controller=__webpack_require__(1),_controller2=_interopRequireDefault(_controller),_random=__webpack_require__(4),canvas=document.getElementById("main"),context=void 0;canvas.getContext?context=canvas.getContext("2d"):alert("Sorry that you can not watch this demo because your browser does not support canvas.");var ctxPlus=new _enhancedContext.EnhancedContext(canvas,context),readyTree=null;_controller2["default"].clear=function(){ctxPlus.clearContextWithOpacity(1)},_controller2["default"].random=function(){_controller2["default"].leavesColor=(0,_random.randomColorPicker)(),_controller2["default"].leavesWidth=(0,_random.randomInteger)(100,1e3),_controller2["default"].leavesHeight=(0,_random.randomInteger)(100,1e3),_controller2["default"].spread=(0,_random.randomNumber)(.3,1),_controller2["default"].branchWidth=(0,_random.randomInteger)(1,20),_controller2["default"].maxBranchLength=(0,_random.randomInteger)(20,100),_controller2["default"].maxBranchGenerations=(0,_random.randomInteger)(8,18),updateReadyTree()},(0,_controller.register)(function(controller){controller.onChange(function(value){_controller2["default"][controller]=value,updateReadyTree()})}),updateReadyTree(),canvas.addEventListener("click",function(e){var _ctxPlus$getMouseCanv=ctxPlus.getMouseCanvasPosition(e),x=_ctxPlus$getMouseCanv.x,y=_ctxPlus$getMouseCanv.y;readyTree.x=x,readyTree.y=y,readyTree.drawSelf(context)})},function(module,exports){"use strict";function register(handler){[drawLeaves,leavesColor,leavesWidth,leavesHeight,spread,branchWidth,maxBranchLength,maxBranchGenerations,random,clear].map(function(controller){handler(controller)})}function updateAllController(){for(var c in panel.__controllers)panel.__controllers[c].updateDisplay()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.register=register,exports.updateAllController=updateAllController;var DataStore=function(){this.message="Set style for the next tree",this.scaleX=.5,this.scaleY=.5,this.leavesColor="#C01880",this.leavesWidth=200,this.leavesHeight=200,this.drawLeaves=1,this.spread=.6,this.branchWidth=13,this.maxBranchLength=60,this.maxBranchGenerations=12,this.clear=function(){},this.random=function(){}},data=new DataStore;window.panel=new dat.GUI({width:380});var shapeFolder=(panel.add(data,"message"),panel.addFolder("Shape Settings")),leafFolder=(shapeFolder.add(data,"scaleX",0,1),shapeFolder.add(data,"scaleY",0,1),panel.addFolder("Leaf Settings")),drawLeaves=leafFolder.add(data,"drawLeaves",{True:1,False:0}),leavesColor=leafFolder.addColor(data,"leavesColor").listen(),leavesWidth=leafFolder.add(data,"leavesWidth",100,1e3).step(1).listen(),leavesHeight=leafFolder.add(data,"leavesHeight",100,1e3).step(1).listen(),branchFolder=panel.addFolder("Branch Settings"),spread=branchFolder.add(data,"spread",.3,1).step(.01).listen(),branchWidth=branchFolder.add(data,"branchWidth",1,20).step(1).listen(),maxBranchLength=branchFolder.add(data,"maxBranchLength",20,100).step(1).listen(),maxBranchGenerations=branchFolder.add(data,"maxBranchGenerations",8,18).step(1).listen(),random=panel.add(data,"random"),clear=panel.add(data,"clear");exports["default"]=data},function(module,exports){"use strict";function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Shape=function(){function Shape(type){_classCallCheck(this,Shape),this.type=type}return _createClass(Shape,[{key:"drawSelf",value:function(context){throw"[NotOverriddenError]Shape.prototype.drawSelf() must be overridden!"}}]),Shape}();exports.NatureTree=function(_Shape){function NatureTree(){var type=arguments.length<=0||void 0===arguments[0]?"tree":arguments[0],_ref=arguments.length<=1||void 0===arguments[1]?{x:400,y:800,z:0,scaleX:.85,scaleY:.85}:arguments[1],x=_ref.x,y=_ref.y,z=_ref.z,scaleX=_ref.scaleX,scaleY=_ref.scaleY,_ref2=arguments.length<=2||void 0===arguments[2]?{drawLeaves:!0,leavesWidth:200,leavesHeight:200,leavesColor:"purple"}:arguments[2],drawLeaves=_ref2.drawLeaves,leavesWidth=_ref2.leavesWidth,leavesHeight=_ref2.leavesHeight,leavesColor=_ref2.leavesColor,_ref3=arguments.length<=3||void 0===arguments[3]?{spread:.6,branchWidth:13,maxBranchLength:60,maxBranchGenerations:12}:arguments[3],spread=_ref3.spread,branchWidth=_ref3.branchWidth,maxBranchLength=_ref3.maxBranchLength,maxBranchGenerations=_ref3.maxBranchGenerations;_classCallCheck(this,NatureTree);var _this=_possibleConstructorReturn(this,(NatureTree.__proto__||Object.getPrototypeOf(NatureTree)).call(this,type));return _this.x=x,_this.y=y,_this.z=z,_this.scaleX=scaleX,_this.scaleY=scaleY,_this.spread=spread,_this.drawLeaves=drawLeaves,_this.leavesWidth=leavesWidth,_this.leavesHeight=leavesHeight,_this.leavesColor=leavesColor,_this.branchWidth=branchWidth,_this.maxBranchLength=maxBranchLength,_this.maxBranchGenerations=maxBranchGenerations,_this}return _inherits(NatureTree,_Shape),_createClass(NatureTree,[{key:"drawSelf",value:function(context){var x=this.x,y=this.y,scaleX=this.scaleX,scaleY=this.scaleY,branchWidth=this.branchWidth;context.save(),context.lineWidth=branchWidth,context.lineCap="round",context.lineJoin="round",context.translate(x,y),context.scale(scaleX,scaleY),this._branchAndLeaves(context,0),context.restore()}},{key:"_branchAndLeaves",value:function(context,generations){var maxBranchGenerations=this.maxBranchGenerations,maxBranchLength=this.maxBranchLength,spread=this.spread;if(generations<maxBranchGenerations){context.save(),context.beginPath(),context.moveTo(0,0),context.lineTo(0,-maxBranchLength),context.stroke(),context.translate(0,-maxBranchLength);var randomN=-(.1*Math.random())+.1;context.rotate(randomN),Math.random()<spread?(context.rotate(-.35),context.scale(.7,.7),context.save(),this._branchAndLeaves(context,generations+1),context.restore(),context.rotate(.6),context.save(),this._branchAndLeaves(context,generations+1),context.restore()):this._branchAndLeaves(context,generations),context.restore()}else if(this.drawLeaves){var leavesColor=this.leavesColor,leavesWidth=this.leavesWidth,leavesHeight=this.leavesHeight;context.save(),context.fillStyle=leavesColor,context.fillRect(0,0,leavesWidth,leavesHeight),context.restore()}}}]),NatureTree}(Shape),exports.Circle=function(_Shape2){function Circle(){var type=arguments.length<=0||void 0===arguments[0]?"circle":arguments[0],_ref4=arguments.length<=1||void 0===arguments[1]?{x:300,y:300,radius:40,radian:2*Math.PI,fillColor:"lightblue"}:arguments[1],x=_ref4.x,y=_ref4.y,radius=_ref4.radius,radian=_ref4.radian,fillColor=_ref4.fillColor,_ref5=arguments.length<=2||void 0===arguments[2]?{speed_x:1,speed_y:1,ax:0,ay:0}:arguments[2],speed_x=_ref5.speed_x,speed_y=_ref5.speed_y,ax=_ref5.ax,ay=_ref5.ay;_classCallCheck(this,Circle);var _this2=_possibleConstructorReturn(this,(Circle.__proto__||Object.getPrototypeOf(Circle)).call(this,type));return _this2.x=x,_this2.y=y,_this2.radius=radius,_this2.radian=radian,_this2.fillColor=fillColor,_this2.speedX=speed_x||0,_this2.speedY=speed_y||0,_this2.accelerateX=ax||0,_this2.accelerateY=ay||0,_this2}return _inherits(Circle,_Shape2),_createClass(Circle,[{key:"getPosition",value:function(){var x=this.x,y=this.y;return{x:x,y:y}}},{key:"isOut",value:function(mode,canvas){var width=canvas.width,height=canvas.height,_getPosition=this.getPosition(),x=_getPosition.x,y=_getPosition.y,radius=this.radius,min_x=void 0,min_y=void 0,max_x=void 0,max_y=void 0;switch(mode){case"boundary":min_x=radius,min_y=radius,max_x=width-radius,max_y=height-radius;break;case"center":min_x=0,min_y=0,max_x=width,max_y=height;break;case"entire":min_x=-radius,min_y=-radius,max_x=width+radius,max_y=height+radius;break;default:min_x=0,min_y=0,max_x=width,max_y=height}return x<=min_x||x>=max_x||y<=min_y||y>=max_y}},{key:"drawSelf",value:function(context){var x=this.x,y=this.y,radius=this.radius,fillColor=this.fillColor,radian=this.radian;context.beginPath(),context.arc(x,y,radius,0,radian,!1),context.closePath(),"null"!=fillColor&&(context.fillStyle=fillColor,context.fill())}},{key:"moveOnce",value:function(){var x=this.x,y=this.y,speedX=this.speedX,speedY=this.speedY,accelerateX=this.accelerateX,accelerateY=this.accelerateY;x+=speedX,y+=speedY,this.adjustSpeed(speedX+accelerateX,speedY+accelerateY),this.x=x,this.y=y}},{key:"jumpTo",value:function(x,y){this.x=x,this.y=y}},{key:"adjustSpeed",value:function(x,y){var speedX=this.speedX,speedY=this.speedY;this.speedX=x||speedX,this.speedY=y||speedY}},{key:"adjustAcceleration",value:function(ax,ay){var accelerateX=this.accelerateX,accelerateY=this.accelerateY;this.accelerateX=ax||accelerateX,this.accelerateY=ay||accelerateY}}]),Circle}(Shape)},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.EnhancedContext=function(){function EnhancedContext(canvas,context){_classCallCheck(this,EnhancedContext),this.canvas=canvas,this.context=context;var cvsElem=document.getElementsByTagName("canvas")[0],pixelWidth=cvsElem.width,boxWidth=Number(cvsElem.style.width.slice(0,-2));this.POS_CONST=pixelWidth/boxWidth}return _createClass(EnhancedContext,[{key:"clearContextWithOpacity",value:function(opacity){var _canvas=this.canvas,width=_canvas.width,height=_canvas.height;this.context.fillStyle="rgba(255, 255, 255, "+opacity+")",this.context.fillRect(0,0,width,height)}},{key:"placeItem",value:function(shape){shape.drawSelf(this.context)}},{key:"moveItemOnce",value:function(shape){var opacity=arguments.length<=1||void 0===arguments[1]?1:arguments[1];this.clearContextWithOpacity(opacity),shape.moveOnce(),shape.drawSelf(this.context)}},{key:"getMouseCanvasPosition",value:function(event){var rec=this.canvas.getBoundingClientRect();return{x:(event.clientX-rec.left)*this.POS_CONST,y:(event.clientY-rec.top)*this.POS_CONST}}}]),EnhancedContext}()},function(module,exports){"use strict";function randomColorPicker(){for(var letters="0123456789ABCDEF",color="#",i=0;i<6;i++)color+=letters[Math.floor(16*Math.random())];return color}function randomInteger(lo,hi){return Math.floor(Math.random()*(hi-lo))+lo}function randomNumber(lo,hi){return Math.random()*(hi-lo)+lo}Object.defineProperty(exports,"__esModule",{value:!0}),exports.randomColorPicker=randomColorPicker,exports.randomInteger=randomInteger,exports.randomNumber=randomNumber},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(6)(),exports.push([module.id,"body{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;height:100%;margin:0;padding:0;background-color:#000}#main{background-color:#fff}",""])},function(module,exports){module.exports=function(){var list=[];return list.toString=function(){for(var result=[],i=0;i<this.length;i++){var item=this[i];item[2]?result.push("@media "+item[2]+"{"+item[1]+"}"):result.push(item[1])}return result.join("")},list.i=function(modules,mediaQuery){"string"==typeof modules&&(modules=[[null,modules,""]]);for(var alreadyImportedModules={},i=0;i<this.length;i++){var id=this[i][0];"number"==typeof id&&(alreadyImportedModules[id]=!0)}for(i=0;i<modules.length;i++){var item=modules[i];"number"==typeof item[0]&&alreadyImportedModules[item[0]]||(mediaQuery&&!item[2]?item[2]=mediaQuery:mediaQuery&&(item[2]="("+item[2]+") and ("+mediaQuery+")"),list.push(item))}},list}},function(module,exports,__webpack_require__){function addStylesToDom(styles,options){for(var i=0;i<styles.length;i++){var item=styles[i],domStyle=stylesInDom[item.id];if(domStyle){domStyle.refs++;for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j](item.parts[j]);for(;j<item.parts.length;j++)domStyle.parts.push(addStyle(item.parts[j],options))}else{for(var parts=[],j=0;j<item.parts.length;j++)parts.push(addStyle(item.parts[j],options));stylesInDom[item.id]={id:item.id,refs:1,parts:parts}}}}function listToStyles(list){for(var styles=[],newStyles={},i=0;i<list.length;i++){var item=list[i],id=item[0],css=item[1],media=item[2],sourceMap=item[3],part={css:css,media:media,sourceMap:sourceMap};newStyles[id]?newStyles[id].parts.push(part):styles.push(newStyles[id]={id:id,parts:[part]})}return styles}function insertStyleElement(options,styleElement){var head=getHeadElement(),lastStyleElementInsertedAtTop=styleElementsInsertedAtTop[styleElementsInsertedAtTop.length-1];if("top"===options.insertAt)lastStyleElementInsertedAtTop?lastStyleElementInsertedAtTop.nextSibling?head.insertBefore(styleElement,lastStyleElementInsertedAtTop.nextSibling):head.appendChild(styleElement):head.insertBefore(styleElement,head.firstChild),styleElementsInsertedAtTop.push(styleElement);else{if("bottom"!==options.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");head.appendChild(styleElement)}}function removeStyleElement(styleElement){styleElement.parentNode.removeChild(styleElement);var idx=styleElementsInsertedAtTop.indexOf(styleElement);idx>=0&&styleElementsInsertedAtTop.splice(idx,1)}function createStyleElement(options){var styleElement=document.createElement("style");return styleElement.type="text/css",insertStyleElement(options,styleElement),styleElement}function createLinkElement(options){var linkElement=document.createElement("link");return linkElement.rel="stylesheet",insertStyleElement(options,linkElement),linkElement}function addStyle(obj,options){var styleElement,update,remove;if(options.singleton){var styleIndex=singletonCounter++;styleElement=singletonElement||(singletonElement=createStyleElement(options)),update=applyToSingletonTag.bind(null,styleElement,styleIndex,!1),remove=applyToSingletonTag.bind(null,styleElement,styleIndex,!0)}else obj.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(styleElement=createLinkElement(options),update=updateLink.bind(null,styleElement),remove=function(){removeStyleElement(styleElement),styleElement.href&&URL.revokeObjectURL(styleElement.href)}):(styleElement=createStyleElement(options),update=applyToTag.bind(null,styleElement),remove=function(){removeStyleElement(styleElement)});return update(obj),function(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap)return;update(obj=newObj)}else remove()}}function applyToSingletonTag(styleElement,index,remove,obj){var css=remove?"":obj.css;if(styleElement.styleSheet)styleElement.styleSheet.cssText=replaceText(index,css);else{var cssNode=document.createTextNode(css),childNodes=styleElement.childNodes;childNodes[index]&&styleElement.removeChild(childNodes[index]),childNodes.length?styleElement.insertBefore(cssNode,childNodes[index]):styleElement.appendChild(cssNode)}}function applyToTag(styleElement,obj){var css=obj.css,media=obj.media;if(media&&styleElement.setAttribute("media",media),styleElement.styleSheet)styleElement.styleSheet.cssText=css;else{for(;styleElement.firstChild;)styleElement.removeChild(styleElement.firstChild);styleElement.appendChild(document.createTextNode(css))}}function updateLink(linkElement,obj){var css=obj.css,sourceMap=obj.sourceMap;sourceMap&&(css+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+" */");var blob=new Blob([css],{type:"text/css"}),oldSrc=linkElement.href;linkElement.href=URL.createObjectURL(blob),oldSrc&&URL.revokeObjectURL(oldSrc)}var stylesInDom={},memoize=function(fn){var memo;return function(){return"undefined"==typeof memo&&(memo=fn.apply(this,arguments)),memo}},isOldIE=memoize(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),getHeadElement=memoize(function(){return document.head||document.getElementsByTagName("head")[0]}),singletonElement=null,singletonCounter=0,styleElementsInsertedAtTop=[];module.exports=function(list,options){options=options||{},"undefined"==typeof options.singleton&&(options.singleton=isOldIE()),"undefined"==typeof options.insertAt&&(options.insertAt="bottom");var styles=listToStyles(list);return addStylesToDom(styles,options),function(newList){for(var mayRemove=[],i=0;i<styles.length;i++){var item=styles[i],domStyle=stylesInDom[item.id];domStyle.refs--,mayRemove.push(domStyle)}if(newList){var newStyles=listToStyles(newList);addStylesToDom(newStyles,options)}for(var i=0;i<mayRemove.length;i++){var domStyle=mayRemove[i];if(0===domStyle.refs){for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j]();delete stylesInDom[domStyle.id]}}}};var replaceText=function(){var textStore=[];return function(index,replacement){return textStore[index]=replacement,textStore.filter(Boolean).join("\n")}}()},function(module,exports,__webpack_require__){var content=__webpack_require__(5);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(7)(content,{});content.locals&&(module.exports=content.locals)}]);